@inherits SchoolMultiSelectBase

<div class="relative">
    <div class="flex flex-wrap gap-2 p-2 border rounded-md">
        @foreach (var school in SelectedSchools)
        {
            <div class="flex items-center bg-blue-100 text-blue-800 text-sm font-medium px-2 py-1 rounded-full">
                @school.Description
                <button @onclick="() => RemoveSchool(school)" class="ml-1 text-blue-600 hover:text-blue-800">
                    &times;
                </button>
            </div>
        }
        <input @bind-value="SearchTerm"
               @bind-value:event="oninput"
               @onfocus="ShowDropdown"
               @onblur="HideDropdownDelayed"
               class="flex-grow outline-none"
               placeholder="Select schools..." />
    </div>
    @if (IsDropdownVisible)
    {
        <div class="absolute z-10 w-full mt-1 bg-white border rounded-md shadow-lg max-h-60 overflow-auto">
            @foreach (var school in FilteredSchools)
            {
                <div @onmousedown="() => SelectSchool(school)"
                     class="p-2 hover:bg-gray-100 cursor-pointer">
                    @school.Description
                </div>
            }
        </div>
    }
</div>